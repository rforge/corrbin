?chisq.test
methods("chisq.test")
methods(generic.function = "chisq.test")
chisq.test
?htest
print.htest
methods("print", "htest")
stats:::print.htest
a <- t.test(1:10, rnorm(10))
a$.data <- 1:10
a
methods(class="htest")
methods(class="pairwise.htest")
?methods
getS3method("print.pairwise.htest")
getAnywhere("print.pairwise.htest")
?p.adjust
?lm
?summary
getAnywhere("t.test")
getAnywhere("t.test.default")
?is.matrix
?t.test
library(devtools)
source('c:/RForge/Nuweb.R')
mc <- as.package("c:/RForge/multiCA")
nuweb(mc)
document(mc)
nuweb(mc)
nuweb(mc)
source('c:/RForge/Nuweb.R')
nuweb(mc)
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
nuweb(mc)
document(mc)
strk <- data.matrix(read.delim("z:/EOGeorge/MultiTrend/StrokeData.txt", row.names=1))
strk
colnames(strk) <- gsub("X", "", colnames(strk))
strk.data <- as.data.frame.table(strk)
strk.data
names(strk.data) <- c("Type", "Year", "Freq")
strk.data$Year <- as.numeric(as.character(strk.data$Year))
strk.data
str(strk.data)
use_data(strk.data, pkg=mc)
?prompt
promptData(strk.data)
stroke <- as.data.frame.table(strk)
names(stroke) <- c("Type", "Year", "Freq")
stroke$Year <- as.numeric(as.character(stroke$Year))
use_data(stroke, pkg=mc)
xtabs(Freq ~ Type + Year, data=stroke)
getAnywhere("t.test.formula")
?t.test
multiCA.test.formula <- function(formula, data, subset, na.action,  weights, ...){
if (missing(formula) || (length(formula) != 3L) || (length(attr(terms(formula[-2L]),
"term.labels")) != 1L))
stop("'formula' missing or incorrect")
m <- match.call(expand.dots = FALSE)
if (is.matrix(eval(m$data, parent.frame())))
m$data <- as.data.frame(data)
m[[1L]] <- quote(stats::model.frame)
m$... <- NULL
mf <- eval(m, parent.frame())
names(mf) <- NULL
response <- attr(attr(mf, "terms"), "response")
g <- factor(mf[[-response]])
}
head(stroke)
debug(multiCA.test.formula)
multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
m
m
head(mf)
str(mf)
attr(attr(mf, "terms"), "response")
xtabs(`(weights)`~Type + Year, data=mf)
?model.frame
a <- ordered(gl92,3)
a <- ordered(gl(2,3))
a
factor(a)
multiCA.test.formula <- function(formula, data, subset, na.action,  weights, ...){
if (missing(formula) || (length(formula) != 3L) || (length(attr(terms(formula[-2L]),
"term.labels")) != 1L))
stop("'formula' missing or incorrect")
m <- match.call(expand.dots = FALSE)
if (is.matrix(eval(m$data, parent.frame())))
m$data <- as.data.frame(data)
m[[1L]] <- quote(stats::model.frame)
m$... <- NULL
mf <- eval(m, parent.frame())
responsevar <- attr(attr(mf, "terms"), "response")
response <- mf[[responsevar]]
weightvar <- which(names(mf)=="(weights)")
weight <- if(is.null(weightvar)) rep(1L, nrow(mf)) else mf[[weightvar]]
g <- factor(mf[[-c(responsevar, weightvar)]])
x <- xtabs(weight ~ response + g)
multiCA.test.default(x, ...)
}
multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
debug(multiCA.test.formula)
multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
weightvar
mf[[-c(responsevar, weightvar)]]
c(responsevar, weightvar)
head(mf[[2]])
head(mf[[-c(1,3)]])
head(mf[[-c(1)]])
head(mf)
head(mf[,-c(1,3)])
head(mf[[1]])
head(mf[,1])
which(names(mf)="a")
which(names(mf)=="a")
is.null(which(names(mf)=="a"))
multiCA.test.formula <- function(formula, data, subset, na.action,  weights, ...){
if (missing(formula) || (length(formula) != 3L) || (length(attr(terms(formula[-2L]),
"term.labels")) != 1L))
stop("'formula' missing or incorrect")
m <- match.call(expand.dots = FALSE)
if (is.matrix(eval(m$data, parent.frame())))
m$data <- as.data.frame(data)
m[[1L]] <- quote(stats::model.frame)
m$... <- NULL
mf <- eval(m, parent.frame())
responsevar <- attr(attr(mf, "terms"), "response")
response <- mf[[responsevar]]
weightvar <- which(names(mf)=="(weights)")
w <- if(length(weightvar) > 0) rep(1L, nrow(mf)) else mf[[weightvar]]
g <- factor(mf[,-c(responsevar, weightvar)])
x <- xtabs(w ~ response + g)
multiCA.test.default(x, ...)
}
multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
a <- multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
str(a)
debug(multiCA.test.default)
a <- multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
x
str(x)
undebug(multiCA.test.default)
multiCA.test.formula <- function(formula, data, subset, na.action,  weights, ...){
if (missing(formula) || (length(formula) != 3L) || (length(attr(terms(formula[-2L]),
"term.labels")) != 1L))
stop("'formula' missing or incorrect")
m <- match.call(expand.dots = FALSE)
if (is.matrix(eval(m$data, parent.frame())))
m$data <- as.data.frame(data)
m[[1L]] <- quote(stats::model.frame)
m$... <- NULL
mf <- eval(m, parent.frame())
responsevar <- attr(attr(mf, "terms"), "response")
response <- mf[[responsevar]]
weightvar <- which(names(mf)=="(weights)")
w <- if(length(weightvar) > 0)  mf[[weightvar]] else rep(1L, nrow(mf))
g <- factor(mf[,-c(responsevar, weightvar)])
x <- xtabs(w ~ response + g)
multiCA.test.default(x, ...)
}
a <- multiCA.test.formula(Type ~ Year, data=stroke, weights = Freq)
a
debug(print.htest)
debug(stats::print.htest)
debug(stats:::print.htest)
a
names(x$statistic)
undebug(stats:::print.htest)
nuweb(mc)
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
nuweb(mc)
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
nuweb(mc)
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
library(multiCA)
data(stroke)
multiCA.test(Type ~ Year, data=stroke, weights=Freq)
nuweb(mc)
run_examples(mc)  # or dev_example("ran.CMData")
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
?lm
nuweb(mc)
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
load_all(mc)
getAnywhere("t.test.formula")
nuweb(mc)
document(mc)
run_examples(mc)  # or dev_example("ran.CMData")
library(multiCA)
?multiCA.test
data(stroke)
## using formula interface
multiCA.test(Type ~ Year, weights=Freq, data=stroke)
strk.mat <- xtabs(Freq ~ Type + Year, data=stroke)
multiCA.test(strk.mat)
nuweb(mc)
library(multiCA)
data(stroke)
## using formula interface
multiCA.test(Type ~ Year, weights=Freq, data=stroke)
load_all(mc)
run_examples(mc)  # or dev_example("ran.CMData")
check(mc, cleanup = FALSE, check_dir = "c:/RForge", check_version = TRUE, cran = TRUE)
data(stroke)
a <- xtabs(Freq ~ Type + Year, data=stroke)
is.matrix(a)
nuweb(mc)
document(mc)
check(mc, cleanup = FALSE, check_dir = "c:/RForge", check_version = TRUE, cran = TRUE)
?NextMethod
nuweb(mc)
document(mc)
check(mc, cleanup = FALSE, check_dir = "c:/RForge", check_version = TRUE, cran = TRUE)
nuweb(mc)
document(mc)
library(multiCA)
example("multiCA.test")
multiCA.test.formula
check(mc, cleanup = FALSE, check_dir = "c:/RForge", check_version = TRUE, cran = TRUE)
mc <- as.package("c:/RForge/multiCA")
load_all(mc)
multiCA.test.formula
